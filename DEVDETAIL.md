# easy-doc 技术细节与方案

## ui 面板

### 功能

生成用户可操作面板，面板提供选择文档类型功能，同时支持自定义操作面板

### 对外可调用函数

### 难点/细节 核心说明

## 加载模块

### 功能

匹配当前页面与描述文件的映射关系并读去数据

### 对外可调用函数

### 难点/细节 核心说明

通过ajax获取数据
约定 public 文件下，映射规则文件：Easy-Doc.json 文件，当前 url 的数据文件：url1.json，url2.json，url3.json...,通过 http://localhost:8080/url.json 方好获取数据

## 处理数据模块

### 功能

对数据进行处理并提供给渲染模块需要的数据

### 对外可调用函数

### 难点/细节 核心说明

1. 计算方位、碰撞检测
2. 计算坐标

根据导入模块获取节点类型对应的节点数组，获取 dom 节点位置，生成对应的弹窗 dom 节点位置

Controller:对外提供生成渲染节点接口

Service:根据节点类型不同使用不同的策略类

Model:数据处理策略类

获取 dom 节点并初始化渲染节点-计算生成渲染节点宽高-计算生成渲染节点位置-位置碰撞检测

## 渲染模块

### 功能

获取数据对不同类型进行不同的交互渲染

### 对外可调用函数

### 难点/细节 核心说明

获取计算模块数据，根据数据进行 DOM 渲染

循环渲染单个 Node-创建多个类型的监听实例 Event-销毁 DOM 和 EventListner

# 技术实现

## doc 类型：

领域：当前url

逻辑：松散

操作区：
1.可操作

文档区：
1. 脱离文档流
2. 展示会出现覆盖

## 操作手册类型：

领域：多url

逻辑：步骤概念

操作区：
1. 可操作
2. 展示不会出现覆盖
3. 当前步骤outline边框提示（不占用）或 遮罩+clip-path

文档区：
1. 脱离文档流的遮罩层
3. 列表展示操作步骤
4. 步骤的联动、禁用功能

## 用户引导类型：

操作区：

文档区：